<!DOCTYPE html>
<html>

  
<!-- Mirrored from dexie.org/docs/ExportImport/dexie-export-import by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 07 Mar 2021 15:39:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Export and Import Database</title>
  <meta name="description" content="The easiest way to use IndexedDB. A lightweight, minimalistic wrapper that provides a straightforward API for developers using IndexedDB.">

  <link href='../../assets/css/bootstrap.min.css' rel='stylesheet'>
  <link href='../../assets/css/prism-ghcolors.css' rel='stylesheet'>
  <link href='../../assets/css/stylesheet.css' rel='stylesheet'>
  <link href="../../assets/css/docs.css" rel="stylesheet">
  <link href="../../assets/css/font-awesome.min.css" rel="stylesheet">
  <link rel="shortcut icon" href="../../assets/images/favicon-yuri.png" />
  <script src="../../assets/js/offline-switch.js"></script>
</head>


  <body>
		<nav class="navbar navbar-default" style="z-index: 10;">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <!-- <a class="navbar-brand" href="/" style="background-image: url('/assets/images/dexie-logo-icon-menu-dark-bkgimg.svg'); background-repeat: no-repeat; background-position: 7px 8px;">Dexie.js</a> -->
      <a class="navbar-brand" href="https://dexie.org/"><img src="https://dexie.org/assets/images/dexie-logo-icon-menu-dark-img.svg" class="dexie-logo-icon-menu" />Dexie.js</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="https://dexie.org/cloud/"><img src="https://dexie.org/assets/images/dexie-logo-icon-menu-dark-img.svg" class="dexie-logo-icon-menu" />Dexie Cloud<span class="beta">BETA</span></a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Docs <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="../index.html">Dexie.js Docs</a></li>
            <li><a href="../API-Reference.html#quick-reference">Dexie.js Cheat Sheet</a></li>
            <li><a href="../Samples.html">Dexie.js Samples</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="https://dexie.org/cloud/docs/">Dexie Cloud Docs</a></li>
            <li><a href="https://dexie.org/cloud/docs/cli">Dexie Cloud CLI</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Support <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="http://stackoverflow.com/questions/tagged/dexie">Dexie Questions on StackOverflow</a></li>
            <li><a href="https://github.com/dfahlander/Dexie.js/issues?utf8=%E2%9C%93&amp;q=is%3Aissue%20label%3Aquestion">Questions on GitHub</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="http://stackoverflow.com/questions/ask?tags=dexie">Ask new question on Stackoverflow (best chance for a reply)</a></li>
            <li><a href="https://github.com/dfahlander/Dexie.js/issues/new">File a GitHub issue on Dexie.js</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="https://dexie.org/contact">Contact</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Who use Dexie? <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a target="_blank" href="https://www.whatsapp.com/"><img class="icon" src="../../assets/images/whatsapp.png"> WhatsApp</a></li>
            <li><a target="_blank" href="https://todo.microsoft.com/"><img class="icon" src="https://dexie.org/assets/images/microsoft-todo.ico"> Microsoft To Do</a></li>
            <li><a target="_blank" href="https://desktop.github.com/"><img class="icon" src="https://dexie.org/assets/images/github-desktop-icon.svg" > Github Desktop</a></li>
            <li><a target="_blank" href="https://www.flightradar24.com/"><img class="icon" src="https://dexie.org/assets/images/flightradar24.svg"> Flightradar24 - real-time flight info</a></li>
            <li><a target="_blank" href="https://wire.com/"><img class="icon" src="https://dexie.org/assets/images/wire-icon.ico"> Wire - An end-to-end encrypted chat application</a></li>
            <li><a target="_blank" href="https://getmemex.com/"><img class="icon" src="../../assets/images/memex-icon.png"> Memex - Bookmarking for power users</a></li>
            <li><a target="_blank" href="../../../github.com/dfahlander/Dexie.js/network/dependents9a48.html?package_id=UGFja2FnZS0xMzg0ODIyOQ%3D%3D">... more than 5000 repos on GitHub</a></li>
            <li role="separator" class="divider"></li>
            <li><a target="_blank" href="../../../trends.builtwith.com/javascript/Dexie.html"><img class="icon" src="https://dexie.org/assets/images/builtwith-icon.ico"> Builtwith.com's usage stats for Dexie.js</a></li>
            <li><a target="_blank" href="https://w3techs.com/technologies/overview/javascript_library"><img class="icon" src="https://dexie.org/assets/images/w3techs-icon.ico"> Dexie.js is among the <span style="font-weight: bold">Top-30</span> JS libraries according to w3techs.com</a></li>
          </ul>
        </li>
        <li><a href="https://dexie.org/contact">Contact </a></li>
        
        <li><a href="../../../github.com/dfahlander/Dexie.js/releases.html">Releases </a></li>
        <li><a href="https://medium.com/dexie-js">Blog </a></li>
      </ul>
    </div><!-- /.navbar-collapse -->

    <div id="offline-switch" title="Make Dexie documentation available offline">
      <span id="offlineOffHeading">Make available offline</span>
      <span id="offlineOnHeading">Available offline</span>
      <label class="switch">
        <input
          id="offline-checkbox"
          type="checkbox"
          onchange="setOffline(event.target.checked)"
        />
        <span class="slider round"></span>
      </label>
      <script>
        updateSwitchFromStorage();
      </script>
    </div>
    
  </div><!-- /.container-fluid -->
</nav>		
<script>
    document.querySelectorAll('nav.navbar ul>li>a').forEach(function (a) {
      var href = a.getAttribute('href');
      href = href && href.split('#')[0];
      if (href && location.pathname === href) {
        //console.log("Selected: ", a.href);
        a.closest('li').className += ' active';
      }
    });
</script>

    <header class="site-header">
  <div class="jumbotron docs-page-jumbotron">
    <div class="container">
      <!-- <div style="position:relative; margin:0;padding:0; width: 100%;">
        <a href="/cloud/" style="position: absolute; top: 0; right: 200px;">
          <h1>Need Sync?</h1>
        </a>
      </div> -->
      <a href="https://dexie.org/">
        <img src="https://dexie.org/assets/images/dexie-logo-icon.svg" class="dexie-logo-icon" />
        <h1>Dexie.js Docs</h1>
      </a>
      <a href="https://dexie.org/cloud/" id="cloud-promoter">
        <div class="shoutouts">
          <p>Need sync?</p>
          <p>Create collaborative offline-first apps</p>
          <p>Easy to get started</p>
        </div>
        <p>Coming soon: Dexie Cloud<span class="beta">BETA</span><span style="display: inline-block; margin-left: -1em;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&raquo;</span></p>
  </a>  
    <!-- Github star button -->
<div id="star-button">
  <!-- Place this tag where you want the button to render. -->
  <a class="github-button" href="../../../github.com/dfahlander/Dexie.html" data-size="large" data-show-count="true" aria-label="Star dfahlander/Dexie.js on GitHub">Star</a>
</div>
<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="../../../buttons.github.io/buttons.js"></script>
      
    </div>
</div>
</header>
<script src="../../assets/js/anime.min.js"></script>
<script src="../../assets/js/shoutouts.js"></script>


    <main class="container">
      <div class="row">
  <div class="col-xs-12 col-md-8">
    <div class="row docs-page-subheader">
      <h1 class="col-xs-12 col-md-9">Export and Import Database</h1>
      <div class="hidden-xs col-md-3">
        <a class="btn btn-primary btn-edit-doc-page" href="https://github.com/dfahlander/dexie.js-web/edit/gh-pages/docs/ExportImport/dexie-export-import.md">
          <span class="glyphicon glyphicon-edit"></span>&nbsp; Edit on GitHub
        </a>
      </div>
    </div>

    <div class="row docs-page-subtitle">
      <div class="col-xs-12">
        
      </div>
    </div>
    <div class="row docs-page">
      <div class="col-xs-12">
        <p>Export / Import IndexedDB &lt;—&gt; Blob</p>

<p>The npm package <a href="https://www.npmjs.com/package/dexie-export-import">dexie-export-import</a> extends Dexie with the capability to export and import databases to and from Blobs.</p>

<h1 id="install">Install</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install dexie
npm install dexie-export-import
</code></pre></div></div>

<h1 id="usage">Usage</h1>

<p>Here’s the basic usage. There’s a lot you can do by supplying optional <code class="language-plaintext highlighter-rouge">[options]</code> arguments. The available options are described later on in this README (See Typescript interfaces below).</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">Dexie</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">dexie</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">importDB</span><span class="p">,</span> <span class="nx">exportDB</span><span class="p">,</span> <span class="nx">importInto</span><span class="p">,</span> <span class="nx">peakImportFile</span><span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">dexie-export-import</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">//</span>
<span class="c1">// Import from Blob or File to Dexie instance:</span>
<span class="c1">//</span>
<span class="kd">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">importDB</span><span class="p">(</span><span class="nx">blob</span><span class="p">,</span> <span class="p">[</span><span class="nx">options</span><span class="p">]);</span>

<span class="c1">//</span>
<span class="c1">// Export to Blob</span>
<span class="c1">//</span>
<span class="kd">const</span> <span class="nx">blob</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">exportDB</span><span class="p">(</span><span class="nx">db</span><span class="p">,</span> <span class="p">[</span><span class="nx">options</span><span class="p">]);</span>

<span class="c1">//</span>
<span class="c1">// Import from Blob or File to existing Dexie instance</span>
<span class="c1">//</span>
<span class="k">await</span> <span class="nx">importInto</span><span class="p">(</span><span class="nx">db</span><span class="p">,</span> <span class="nx">blob</span><span class="p">,</span> <span class="p">[</span><span class="nx">options</span><span class="p">]);</span>

<span class="c1">//</span>
<span class="c1">// If you need to peek the metadata from the import file without actually</span>
<span class="c1">// performing any import operation</span>
<span class="c1">// (since v1.0.0)</span>
<span class="c1">//</span>
<span class="kd">const</span> <span class="nx">importMeta</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">peekImportFile</span><span class="p">(</span><span class="nx">blob</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">areEqual</span><span class="p">(</span><span class="nx">importMeta</span><span class="p">.</span><span class="nx">formatName</span><span class="p">,</span> <span class="dl">"</span><span class="s2">dexie</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">.</span><span class="nx">isTrue</span><span class="p">(</span><span class="nx">importMeta</span><span class="p">.</span><span class="nx">formatVersion</span> <span class="o">===</span> <span class="mi">1</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Database name:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">importMeta</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">databaseName</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Database version:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">importMeta</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">databaseVersion</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Database version:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">importMeta</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">databaseVersion</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Tables:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">importMeta</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">tables</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">t</span> <span class="o">=&gt;</span>
  <span class="s2">`</span><span class="p">${</span><span class="nx">t</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="s2"> (</span><span class="p">${</span><span class="nx">t</span><span class="p">.</span><span class="nx">rowCount</span><span class="p">}</span><span class="s2"> rows)`</span>
<span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="dl">'</span><span class="se">\n\t</span><span class="dl">'</span><span class="p">));</span>


</code></pre></div></div>
<p>Note that you can also import the package as follows:</p>

<p><em>NOTE:</em> Typescript users using dexie@2.x will get compilation errors if using the static import method <code class="language-plaintext highlighter-rouge">Dexie.import()</code>.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">Dexie</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">dexie</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">"</span><span class="s2">dexie-export-import</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">//</span>
<span class="c1">// Import from Blob or File to Dexie instance:</span>
<span class="c1">//</span>
<span class="kd">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Dexie</span><span class="p">.</span><span class="k">import</span><span class="p">(</span><span class="nx">blob</span><span class="p">,</span> <span class="p">[</span><span class="nx">options</span><span class="p">]);</span> <span class="c1">// equivalent to importDB()</span>

<span class="c1">//</span>
<span class="c1">// Export to Blob</span>
<span class="c1">//</span>
<span class="kd">const</span> <span class="nx">blob</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">db</span><span class="p">.</span><span class="k">export</span><span class="p">([</span><span class="nx">options</span><span class="p">]);</span> <span class="c1">// equivalent to exportDB()</span>

<span class="c1">//</span>
<span class="c1">// Import from Blob or File to existing Dexie instance</span>
<span class="c1">//</span>
<span class="k">await</span> <span class="nx">db</span><span class="p">.</span><span class="k">import</span><span class="p">(</span><span class="nx">blob</span><span class="p">,</span> <span class="p">[</span><span class="nx">options</span><span class="p">]);</span> <span class="c1">// equivalent to importInto()</span>

</code></pre></div></div>

<h1 id="sample">Sample</h1>

<p><a href="https://codepen.io/dfahlander/pen/RqwoaB/">Here’s a working sample</a> on CodePen. It uses <a href="https://www.npmjs.com/package/downloadjs">downloadjs</a> to deliver the blob as a “file download” to the user. For receiving an import file, it uses a drop area where you can drop your JSON file. Click the Console tab in the bottom to see what progressCallbacks receive.</p>

<p>Even though this sample doesn’t show it, blobs can also be sent or retrieved to/from a server, using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">fetch API</a>.</p>

<h1 id="features">Features</h1>

<ul>
  <li>Export of IndexedDB Database to JSON Blob.</li>
  <li>Import from Blob back to IndexedDB Database.</li>
  <li>An import Blob can be retrieved from an URL (using fetch()) or from a user-input file (dropped or browsed to).</li>
  <li>An export Blob can be either given end-user to be stored in Downloaded Files, or be send to a server over HTTP(S) using fetch().</li>
  <li>Chunk-wise / Streaming - does not read the entire DB into RAM</li>
  <li>Progress callback (typically for showing progress bar)</li>
  <li>Optional filter allows to import/export subset of data</li>
  <li>Support for all structured clonable exotic types (Date, ArrayBuffer, Blob, etc) except CryptoKeys (which by design cannot be exported)</li>
  <li>Atomic - import / export within one database transaction (optional)</li>
  <li>Export speed: Using getAll() in chunks rather than openCursor().</li>
  <li>Import speed: Using bulkPut() in chunks rather than put().</li>
  <li>Can well be run from a Web Worker (better speed + doesn’t lock GUI).</li>
  <li>Can also export IndexedDB databases that was not created with Dexie.</li>
</ul>

<h1 id="compatibility">Compatibility</h1>

<table>
  <thead>
    <tr>
      <th>Product</th>
      <th>Supported versions</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>dexie</td>
      <td>^2.0.4 or ^3.0.0-alpha.5</td>
    </tr>
    <tr>
      <td>Safari</td>
      <td>^10.1</td>
    </tr>
    <tr>
      <td>IE</td>
      <td>11</td>
    </tr>
    <tr>
      <td>Edge</td>
      <td>any version</td>
    </tr>
    <tr>
      <td>Chrome</td>
      <td>any version</td>
    </tr>
    <tr>
      <td>FF</td>
      <td>any version</td>
    </tr>
  </tbody>
</table>

<h1 id="similar-libraries">Similar Libraries</h1>
<h2 id="indexeddb-export-import"><a href="https://github.com/Polarisation/indexeddb-export-import">indexeddb-export-import</a></h2>

<p>Much smaller in size, but also much lighter than dexie-export-import.</p>

<p><a href="https://github.com/Polarisation/indexeddb-export-import">Indexeddb-export-import</a> can be better choice if:</p>

<ul>
  <li>your data contains no Dates, ArrayBuffers, TypedArrays or Blobs (only objects, strings, numbers, booleans and arrays).</li>
  <li>your database is small enough to fit in RAM on your target devices.</li>
</ul>

<p>Dexie-export-import was build to scale when exporting large databases without consuming much RAM. It does also support importing/exporting exotic types.</p>

<h1 id="interface">Interface</h1>

<p>Importing this module will extend Dexie and Dexie.prototype as follows.
Even though this is conceptually a Dexie.js addon, there is no addon instance.
Extended interface is done into Dexie and Dexie.prototype as a side effect when
importing the module.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//</span>
<span class="c1">// Extend Dexie interface (typescript-wise)</span>
<span class="c1">//</span>
<span class="kr">declare</span> <span class="kr">module</span> <span class="dl">'</span><span class="s1">dexie</span><span class="dl">'</span> <span class="p">{</span>
  <span class="c1">// Extend methods on db</span>
  <span class="kr">interface</span> <span class="nx">Dexie</span> <span class="p">{</span>
    <span class="k">export</span><span class="p">(</span><span class="nx">options</span><span class="p">?:</span> <span class="nx">ExportOptions</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Blob</span><span class="o">&gt;</span><span class="p">;</span>
    <span class="k">import</span><span class="p">(</span><span class="nx">blob</span><span class="p">:</span> <span class="nx">Blob</span><span class="p">,</span> <span class="nx">options</span><span class="p">?:</span> <span class="nx">ImportOptions</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kr">interface</span> <span class="nx">DexieConstructor</span> <span class="p">{</span>
    <span class="k">import</span><span class="p">(</span><span class="nx">blob</span><span class="p">:</span> <span class="nx">Blob</span><span class="p">,</span> <span class="nx">options</span><span class="p">?:</span> <span class="nx">StaticImportOptions</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Dexie</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="staticimportoptions-and-importoptions">StaticImportOptions and ImportOptions</h2>

<p>These are the interfaces of the <code class="language-plaintext highlighter-rouge">options</code> optional arguments to Dexie.import() and Dexie.prototype.import(). All options are optional and defaults to undefined (falsy).</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kr">interface</span> <span class="nx">StaticImportOptions</span> <span class="p">{</span>
  <span class="nl">noTransaction</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">chunkSizeBytes</span><span class="p">?:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// Default: DEFAULT_KILOBYTES_PER_CHUNK ( 1MB )</span>
  <span class="nl">filter</span><span class="p">?:</span> <span class="p">(</span><span class="nx">table</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">value</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span> <span class="nx">key</span><span class="p">?:</span> <span class="kr">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">progressCallback</span><span class="p">?:</span> <span class="p">(</span><span class="nx">progress</span><span class="p">:</span> <span class="nx">ImportProgress</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kr">interface</span> <span class="nx">ImportOptions</span> <span class="kd">extends</span> <span class="nx">StaticImportOptions</span> <span class="p">{</span>
  <span class="nl">acceptMissingTables</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">acceptVersionDiff</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">acceptNameDiff</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">acceptChangedPrimaryKey</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">overwriteValues</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">clearTablesBeforeImport</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">noTransaction</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">chunkSizeBytes</span><span class="p">?:</span> <span class="kr">number</span><span class="p">;</span> <span class="c1">// Default: DEFAULT_KILOBYTES_PER_CHUNK ( 1MB )</span>
  <span class="nl">filter</span><span class="p">?:</span> <span class="p">(</span><span class="nx">table</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">value</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span> <span class="nx">key</span><span class="p">?:</span> <span class="kr">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">progressCallback</span><span class="p">?:</span> <span class="p">(</span><span class="nx">progress</span><span class="p">:</span> <span class="nx">ImportProgress</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">}</span>

</code></pre></div></div>

<h2 id="importprogress">ImportProgress</h2>

<p>This is the interface sent to the progressCallback.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kr">interface</span> <span class="nx">ImportProgress</span> <span class="p">{</span>
  <span class="nl">totalTables</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">completedTables</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">totalRows</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">completedRows</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">done</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="exportoptions">ExportOptions</h2>

<p>This is the interface of the <code class="language-plaintext highlighter-rouge">options</code> optional arguments to Dexie.prototype.export(). All options are optional and defaults to undefined (falsy).</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kr">interface</span> <span class="nx">ExportOptions</span> <span class="p">{</span>
  <span class="nl">noTransaction</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">numRowsPerChunk</span><span class="p">?:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">prettyJson</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">filter</span><span class="p">?:</span> <span class="p">(</span><span class="nx">table</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">value</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span> <span class="nx">key</span><span class="p">?:</span> <span class="kr">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">progressCallback</span><span class="p">?:</span> <span class="p">(</span><span class="nx">progress</span><span class="p">:</span> <span class="nx">ExportProgress</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="exportprogress">ExportProgress</h2>

<p>This is the interface sent to the ExportOptions.progressCallback.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kr">interface</span> <span class="nx">ExportProgress</span> <span class="p">{</span>
  <span class="nl">totalTables</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">completedTables</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">totalRows</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">completedRows</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">done</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="defaults">Defaults</h2>

<p>These are the default chunk sizes used when not specified in the options object. We allow quite large chunks, but still not that large (1MB RAM is not much even for a small device).</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">DEFAULT_KILOBYTES_PER_CHUNK</span> <span class="o">=</span> <span class="mi">1024</span><span class="p">;</span> <span class="c1">// When importing blob</span>
<span class="kd">const</span> <span class="nx">DEFAULT_ROWS_PER_CHUNK</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">;</span> <span class="c1">// When exporting db</span>
</code></pre></div></div>

<h1 id="json-format">JSON Format</h1>

<p>The JSON format is described in the Typescript interface below. This JSON format is streamable as it is generated
in a streaming fashion, and imported also using a streaming fashion. Therefore, it is important that the data come
last in the file.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kr">interface</span> <span class="nx">DexieExportJsonStructure</span> <span class="p">{</span>
  <span class="nl">formatName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">dexie</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">formatVersion</span><span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
  <span class="nl">data</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">databaseName</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">databaseVersion</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">tables</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
      <span class="nl">schema</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="c1">// '++id,name,age'</span>
      <span class="nl">rowCount</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="p">}</span><span class="o">&gt;</span><span class="p">;</span>
    <span class="nl">data</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="p">{</span> <span class="c1">// This property must be last (for streaming purpose)</span>
      <span class="na">tableName</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
      <span class="nl">inbound</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
      <span class="nl">rows</span><span class="p">:</span> <span class="kr">any</span><span class="p">[];</span> <span class="c1">// This property must be last (for streaming purpose)</span>
    <span class="p">}</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="example-json-file">Example JSON File</h2>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"formatName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dexie"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"formatVersion"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"databaseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dexie-export-import-basic-tests"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"databaseVersion"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outbound"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"schema"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rowCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbound"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"schema"</span><span class="p">:</span><span class="w"> </span><span class="s2">"++id"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rowCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"tableName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outbound"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"inbound"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rows"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
          </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="w">
          </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"bar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},{</span><span class="w">
      </span><span class="nl">"tableName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbound"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"inbound"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rows"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"fullBlob"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AgYKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jp6uvs7e7v8PHy8/T19vf4+fr7/P3+/w=="</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"binary"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"buffer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQID"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"byteOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"length"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"$types"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fullBlob"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blob2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"binary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uint8array2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"binary.buffer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"arraybuffer"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nl">"foo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
          </span><span class="nl">"bar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<h1 id="exporting-indexeddb-databases-that-wasnt-generated-with-dexie">Exporting IndexedDB Databases that wasn’t generated with Dexie</h1>
<p>As Dexie can dynamically open non-Dexie IndexedDB databases, this is not an issue.
Sample provided here:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">Dexie</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">dexie</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">importDB</span><span class="p">,</span> <span class="nx">exportDB</span><span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">dexie-export-import</span><span class="dl">"</span><span class="p">;</span>


<span class="k">async</span> <span class="kd">function</span> <span class="nx">exportDatabase</span><span class="p">(</span><span class="nx">databaseName</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Open an arbritary IndexedDB database:</span>
  <span class="kd">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="k">await</span> <span class="k">new</span> <span class="nx">Dexie</span><span class="p">(</span><span class="nx">databaseName</span><span class="p">).</span><span class="nx">open</span><span class="p">();</span>
  <span class="c1">// Export it</span>
  <span class="kd">const</span> <span class="nx">blob</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">exportDB</span><span class="p">(</span><span class="nx">db</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">blob</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">importDatabase</span><span class="p">(</span><span class="nx">file</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Import a file into a Dexie instance:</span>
  <span class="kd">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">importDB</span><span class="p">(</span><span class="nx">file</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">db</span><span class="p">.</span><span class="nx">backendDB</span><span class="p">();</span> <span class="c1">// backendDB() gives you the native IDBDatabase object.</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="background--why">Background / Why</h2>

<p>This feature has been asked for a lot:</p>

<ul>
  <li>https://github.com/dfahlander/Dexie.js/issues/391</li>
  <li>https://github.com/dfahlander/Dexie.js/issues/99</li>
  <li>https://stackoverflow.com/questions/46025699/dumping-indexeddb-data</li>
  <li>https://feathub.com/dfahlander/Dexie.js/+9</li>
</ul>

<p>My simple answer initially was this:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="k">export</span><span class="p">(</span><span class="nx">db</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">db</span><span class="p">.</span><span class="nx">transaction</span><span class="p">(</span><span class="dl">'</span><span class="s1">r</span><span class="dl">'</span><span class="p">,</span> <span class="nx">db</span><span class="p">.</span><span class="nx">tables</span><span class="p">,</span> <span class="p">()</span><span class="o">=&gt;</span><span class="p">{</span>
        <span class="k">return</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">tables</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">table</span> <span class="o">=&gt;</span> <span class="nx">table</span><span class="p">.</span><span class="nx">toArray</span><span class="p">()</span>
                <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">rows</span> <span class="o">=&gt;</span> <span class="p">({</span><span class="na">table</span><span class="p">:</span> <span class="nx">table</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="na">rows</span><span class="p">:</span> <span class="nx">rows</span><span class="p">})));</span>
    <span class="p">});</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="k">import</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">db</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">db</span><span class="p">.</span><span class="nx">transaction</span><span class="p">(</span><span class="dl">'</span><span class="s1">rw</span><span class="dl">'</span><span class="p">,</span> <span class="nx">db</span><span class="p">.</span><span class="nx">tables</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">map</span> <span class="p">(</span><span class="nx">t</span> <span class="o">=&gt;</span>
            <span class="nx">db</span><span class="p">.</span><span class="nx">table</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">table</span><span class="p">).</span><span class="nx">clear</span><span class="p">()</span>
              <span class="p">.</span><span class="nx">then</span><span class="p">(()</span><span class="o">=&gt;</span><span class="nx">db</span><span class="p">.</span><span class="nx">table</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">table</span><span class="p">).</span><span class="nx">bulkAdd</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">rows</span><span class="p">)));</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Looks simple!</p>

<p>But:</p>

<ol>
  <li>The whole database has to fit in RAM. Can be issue on small devices.</li>
  <li>If using JSON.stringify() / JSON.parse() on the data, we won’t support exotic types (Dates, Blobs, ArrayBuffers, etc)</li>
  <li>Not possible to show a progress while importing.</li>
</ol>

<p>This addon solves these issues, and some more, with the help of some libraries.</p>

<h2 id="libraries-used">Libraries Used</h2>
<p>To accomplish a streamable export/import, and allow exotic types, I use the libraries listed below. Note that these libraries are listed as devDependencies because they are bundles using rollupjs - so there’s no real dependency from the library user persective.</p>

<h3 id="typeson-and-typeson-registry"><a href="https://www.npmjs.com/package/typeson">typeson</a> and <a href="https://www.npmjs.com/package/typeson-registry">typeson-registry</a></h3>
<p>These modules enables something similar as JSON.stringify() / JSON.parse() for exotic or custom types.</p>

<h3 id="clarinet"><a href="https://www.npmjs.com/package/clarinet">clarinet</a></h3>
<p>This module allow to read JSON in a streaming fashion</p>

<h2 id="streaming-json">Streaming JSON</h2>
<p>I must admit that I had to do some research before I understood how to accomplish streaming JSON from client-side Javascript (both reading / writing). It is really not obvious that this would even be possible. Looking at the Blob interface, it does not provide any way of either reading or writing in a streamable fashion.</p>

<p>What I found though (after some googling) was that it is indeed possible to do that based on the current DOM platform (including IE11 !).</p>

<h3 id="reading-json-in-chunks">Reading JSON in Chunks</h3>

<p>A File or Blob represents something that can lie on a disk file and not yet be in RAM. So how do we read the first 100 bytes from a Blob without reading it all?</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">firstPart</span> <span class="o">=</span> <span class="nx">blob</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span>
</code></pre></div></div>
<p>Ok, and in the next step we use a FileReader to really read this sliced Blob into memory.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">const</span> <span class="nx">first100Chars</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">readBlob</span><span class="p">(</span><span class="nx">firstPart</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">readBlob</span><span class="p">(</span><span class="nx">blob</span><span class="p">:</span> <span class="nx">Blob</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FileReader</span><span class="p">();</span>
    <span class="nx">reader</span><span class="p">.</span><span class="nx">onabort</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">=&gt;</span> <span class="nx">reject</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">"</span><span class="s2">file read aborted</span><span class="dl">"</span><span class="p">));</span>
    <span class="nx">reader</span><span class="p">.</span><span class="nx">onerror</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">=&gt;</span> <span class="nx">reject</span><span class="p">((</span><span class="nx">ev</span><span class="p">.</span><span class="nx">target</span> <span class="k">as</span> <span class="kr">any</span><span class="p">).</span><span class="nx">error</span><span class="p">);</span>
    <span class="nx">reader</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">=&gt;</span> <span class="nx">resolve</span><span class="p">((</span><span class="nx">ev</span><span class="p">.</span><span class="nx">target</span> <span class="k">as</span> <span class="kr">any</span><span class="p">).</span><span class="nx">result</span><span class="p">);</span>
    <span class="nx">reader</span><span class="p">.</span><span class="nx">readAsText</span><span class="p">(</span><span class="nx">blob</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>
<p>Voila!</p>

<p>But! How can we keep transactions alive when calling this non-indexedDB async call?</p>

<p>I use two different solutions for this:</p>
<ol>
  <li>If we are in a Worker, I use <code class="language-plaintext highlighter-rouge">new FileReaderSync()</code> instead of <code class="language-plaintext highlighter-rouge">new FileReader()</code>.</li>
  <li>If in the main thread, I use <code class="language-plaintext highlighter-rouge">Dexie.waitFor()</code> to while reading this short elapsed chunk, keeping the transaction alive still.</li>
</ol>

<p>Ok, fine, but how do we parse the chunk then? Cannot use JSON.parse(firstPart) because it will most defenitely be incomplete.</p>

<p><a href="https://www.npmjs.com/package/clarinet">Clarinet</a> to the rescue. This library can read JSON and callback whenever JSON tokens come in.</p>

<h3 id="writing-json-in-chunks">Writing JSON in Chunks</h3>

<p>Writing JSON is solved more easily. As the BlobBuilder interface was deprecated from the DOM, I firstly found this task impossible. But after digging around, I found that also this SHOULD be possible if browers implement the Blob interface correctly.</p>

<p>Blobs can be constructeed from an array of other Blobs. This is the key.</p>

<ol>
  <li>Let’s say we generate 1000 Blobs of 1MB each on a device with 512 MB RAM. If the browser does its job well, it will allow the first 200 blobs or so to reside in RAM. But then, it should start putting the remanding blobs onto temporary files.</li>
  <li>We put all these 1000 blobs into an array and generate a final Blob from that array.</li>
</ol>

<p>And that’s pretty much it.</p>

      </div>
    </div>
  </div>
  <div class="col-xs-12 col-md-4">
    <div class="row docs-page-subheader">
      <h3>Table of Contents</h3>
      <div class="docs-toc-wrapper">
        <ul class="docs-toc">
          
          
            
          
            
          
            
          
            
              <li>
                <a href="../API-Reference.html">API Reference</a>
              </li>
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/access-control">Access Control in Dexie Cloud</a>
              </li>
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/authentication">Authentication in Dexie Cloud</a>
              </li>
            
          
            
              <li>
                <a href="../Tutorial/Best-Practices.html">Best Practices</a>
              </li>
            
          
            
              <li>
                <a href="../Tutorial/Building-Addons.html">Building Addons</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection.html">Collection</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-2.html">Collection.and()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-3.html">Collection.clone()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-4.html">Collection.count()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-5.html">Collection.delete()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-6.html">Collection.desc()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-7.html">Collection.distinct()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-8.html">Collection.each()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-9.html">Collection.eachKey()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-10.html">Collection.eachPrimaryKey()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-11.html">Collection.eachUniqueKey()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-12.html">Collection.filter()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-13.html">Collection.first()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-14.html">Collection.keys()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-15.html">Collection.last()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-16.html">Collection.limit()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-17.html">Collection.modify()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-18.html">Collection.offset()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-19.html">Collection.or()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-20.html">Collection.primaryKeys()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-21.html">Collection.raw()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-22.html">Collection.reverse()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-23.html">Collection.sortBy()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-24.html">Collection.toArray()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-25.html">Collection.uniqueKeys()</a>
              </li>
            
          
            
              <li>
                <a href="../Collection/Collection-26.html">Collection.until()</a>
              </li>
            
          
            
              <li>
                <a href="../Compound-Index.html">Compound Index</a>
              </li>
            
          
            
              <li>
                <a href="../Tutorial/Consuming-dexie-as-a-module.html">Consuming Dexie as a module</a>
              </li>
            
          
            
          
            
              <li>
                <a href="../DBCore/DBCore.html">DBCore</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreAddRequest.html">DBCoreAddRequest</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreCountRequest.html">DBCoreCountRequest</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreCursor.html">DBCoreCursor</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreDeleteRangeRequest.html">DBCoreDeleteRangeRequest</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreDeleteRequest.html">DBCoreDeleteRequest</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreGetManyRequest.html">DBCoreGetManyRequest</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreGetRequest.html">DBCoreGetRequest</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreIndex.html">DBCoreIndex</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreKeyRange.html">DBCoreKeyRange</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreMutateRequest.html">DBCoreMutateRequest</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreMutateResponse.html">DBCoreMutateResponse</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreOpenCursorRequest.html">DBCoreOpenCursorRequest</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCorePutRequest.html">DBCorePutRequest</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreQuery.html">DBCoreQuery</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreQueryRequest.html">DBCoreQueryRequest</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreQueryResponse.html">DBCoreQueryResponse</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreRangeType.html">DBCoreRangeType</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreSchema.html">DBCoreSchema</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreTable.html">DBCoreTable</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreTableSchema.html">DBCoreTableSchema</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreTransaction.html">DBCoreTransaction</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreTransactionMode.html">DBCoreTransactionMode</a>
              </li>
            
          
            
              <li>
                <a href="../DBCore/DBCoreTransactionRequest.html">DBCoreTransactionRequest</a>
              </li>
            
          
            
              <li>
                <a href="../Deprecations.html">Deprecations</a>
              </li>
            
          
            
              <li>
                <a href="../DerivedWork.html">Derived Work</a>
              </li>
            
          
            
              <li>
                <a href="../Tutorial/Design.html">Design</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie.html">Dexie</a>
              </li>
            
          
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/cli">Dexie Cloud CLI</a>
              </li>
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/">Dexie Cloud Docs</a>
              </li>
            
          
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/rest-api">Dexie Cloud REST API</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie.html">Dexie.AbortError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-2.html">Dexie.BulkError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-3.html">Dexie.ConstraintError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-4.html">Dexie.DataCloneError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-5.html">Dexie.DataError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-6.html">Dexie.DatabaseClosedError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-7.html">Dexie.IncompatiblePromiseError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-8.html">Dexie.InternalError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-9.html">Dexie.InvalidAccessError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-10.html">Dexie.InvalidArgumentError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-11.html">Dexie.InvalidStateError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-12.html">Dexie.InvalidTableError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-13.html">Dexie.MissingAPIError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-14.html">Dexie.ModifyError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-15.html">Dexie.NoSuchDatabaseErrorError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-16.html">Dexie.NotFoundError</a>
              </li>
            
          
            
              <li>
                <a href="../Observable/Dexie.html">Dexie.Observable</a>
              </li>
            
          
            
              <li>
                <a href="../Observable/Dexie.Observable.html">Dexie.Observable.DatabaseChange</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-17.html">Dexie.OpenFailedError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-18.html">Dexie.PrematureCommitError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-19.html">Dexie.QuotaExceededError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-20.html">Dexie.ReadOnlyError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-21.html">Dexie.SchemaError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-22.html">Dexie.SubTransactionError</a>
              </li>
            
          
            
              <li>
                <a href="../Syncable/Dexie.Syncable.html">Dexie.Syncable</a>
              </li>
            
          
            
              <li>
                <a href="../Syncable/Dexie.Syncable-2.html">Dexie.Syncable.IDatabaseChange</a>
              </li>
            
          
            
              <li>
                <a href="../Syncable/Dexie.Syncable-3.html">Dexie.Syncable.IPersistentContext</a>
              </li>
            
          
            
              <li>
                <a href="../Syncable/Dexie.Syncable-4.html">Dexie.Syncable.ISyncProtocol</a>
              </li>
            
          
            
              <li>
                <a href="../Syncable/Dexie.Syncable-5.html">Dexie.Syncable.StatusTexts</a>
              </li>
            
          
            
              <li>
                <a href="../Syncable/Dexie.Syncable-6.html">Dexie.Syncable.Statuses</a>
              </li>
            
          
            
              <li>
                <a href="../Syncable/Dexie.Syncable-7.html">Dexie.Syncable.registerSyncProtocol()</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-23.html">Dexie.TimeoutError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-24.html">Dexie.TransactionInactiveError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-25.html">Dexie.UnknownError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-26.html">Dexie.UnsupportedError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-27.html">Dexie.UpgradeError()</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-28.html">Dexie.VersionChangeError</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/Dexie-29.html">Dexie.VersionError</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-2.html">Dexie.[table]</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-3.html">Dexie.addons</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-4.html">Dexie.async()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-5.html">Dexie.backendDB()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-6.html">Dexie.close()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-7.html">Dexie.currentTransaction</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-8.html">Dexie.debug</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-9.html">Dexie.deepClone()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-10.html">Dexie.defineClass()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-11.html">Dexie.delByKeyPath()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-12.html">Dexie.delete()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-13.html">Dexie.derive()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-14.html">Dexie.events()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-15.html">Dexie.exists()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-16.html">Dexie.extend()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-17.html">Dexie.fakeAutoComplete()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-18.html">Dexie.getByKeyPath()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-19.html">Dexie.getDatabaseNames()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-20.html">Dexie.hasFailed()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-21.html">Dexie.ignoreTransaction()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-22.html">Dexie.isOpen()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie.html">Dexie.js</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-23.html">Dexie.name</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-24.html">Dexie.on()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie.on.html">Dexie.on.blocked</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie.on-2.html">Dexie.on.error</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie.on-3.html">Dexie.on.populate</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie.on-4.html">Dexie.on.populate-(old-version)</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie.on-5.html">Dexie.on.ready</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie.on-6.html">Dexie.on.versionchange</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-25.html">Dexie.open()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-26.html">Dexie.override()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-27.html">Dexie.semVer</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-28.html">Dexie.setByKeyPath()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-29.html">Dexie.shallowClone()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-30.html">Dexie.spawn()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-31.html">Dexie.table()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-32.html">Dexie.tables</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-33.html">Dexie.transaction()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-34.html">Dexie.transaction()-(old-version)</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-35.html">Dexie.use()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-36.html">Dexie.verno</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-37.html">Dexie.version</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-38.html">Dexie.version()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-39.html">Dexie.vip()</a>
              </li>
            
          
            
              <li>
                <a href="../Dexie/Dexie-40.html">Dexie.waitFor()</a>
              </li>
            
          
            
              <li>
                <a href="../DexieErrors/DexieError.html">DexieError</a>
              </li>
            
          
            
              <li>
                <a href="../index.html">Docs Home</a>
              </li>
            
          
            
              <li>
                <a href="../Download.html">Download</a>
              </li>
            
          
            
              <li>
                <a href="dexie-export-import.html">Export and Import Database</a>
              </li>
            
          
            
              <li>
                <a href="../Tutorial/Getting-started.html">Getting Started</a>
              </li>
            
          
            
              <li>
                <a href="../Tutorial/Hello-World.html">Hello World</a>
              </li>
            
          
            
              <li>
                <a href="../StorageManager.html">How To Use the StorageManager API</a>
              </li>
            
          
            
              <li>
                <a href="../inbound.html">Inbound</a>
              </li>
            
          
            
              <li>
                <a href="../IndexSpec.html">IndexSpec</a>
              </li>
            
          
            
              <li>
                <a href="../Indexable-Type.html">Indexable Type</a>
              </li>
            
          
            
              <li>
                <a href="../IndexedDB-on-Safari.html">IndexedDB on Safari</a>
              </li>
            
          
            
              <li>
                <a href="../Tutorial/Migrating-existing-DB-to-Dexie.html">Migrating existing DB to Dexie</a>
              </li>
            
          
            
              <li>
                <a href="../MultiEntry-Index.html">MultiEntry Index</a>
              </li>
            
          
            
              <li>
                <a href="../Promise/Promise.html">Promise</a>
              </li>
            
          
            
              <li>
                <a href="../Promise/Promise-2.html">Promise.PSD</a>
              </li>
            
          
            
              <li>
                <a href="../Promise/Promise-3.html">Promise.catch()</a>
              </li>
            
          
            
              <li>
                <a href="../Promise/Promise-4.html">Promise.finally()</a>
              </li>
            
          
            
              <li>
                <a href="../Promise/Promise.on.html">Promise.on.error</a>
              </li>
            
          
            
              <li>
                <a href="../Promise/Promise-5.html">Promise.onuncatched</a>
              </li>
            
          
            
              <li>
                <a href="https://dexie.org/cloud/purchase/production">Purchase Subscription</a>
              </li>
            
          
            
              <li>
                <a href="../Questions-and-Answers.html">Questions and Answers</a>
              </li>
            
          
            
              <li>
                <a href="../Releasing-Dexie.html">Releasing Dexie</a>
              </li>
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/premium-software">Run Dexie Cloud on Own Servers</a>
              </li>
            
          
            
          
            
              <li>
                <a href="../Samples.html">Samples</a>
              </li>
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/scaling">Sharding and Scalability</a>
              </li>
            
          
            
              <li>
                <a href="../Simplify-with-yield.html">Simplify with yield</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table.html">Table</a>
              </li>
            
          
            
              <li>
                <a href="../TableSchema.html">Table Schema</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-2.html">Table.add()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-3.html">Table.bulkAdd()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-4.html">Table.bulkDelete()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-5.html">Table.bulkGet()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-6.html">Table.bulkPut()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-7.html">Table.clear()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-8.html">Table.count()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-9.html">Table.defineClass()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-10.html">Table.delete()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-11.html">Table.each()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-12.html">Table.filter()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-13.html">Table.get()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-14.html">Table.hook('creating')</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-15.html">Table.hook('deleting')</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-16.html">Table.hook('reading')</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-17.html">Table.hook('updating')</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-18.html">Table.limit()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-19.html">Table.mapToClass()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-20.html">Table.name</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-21.html">Table.offset()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-22.html">Table.orderBy()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-23.html">Table.put()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-24.html">Table.reverse()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-25.html">Table.schema</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-26.html">Table.toArray()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-27.html">Table.toCollection()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-28.html">Table.update()</a>
              </li>
            
          
            
              <li>
                <a href="../Table/Table-29.html">Table.where()</a>
              </li>
            
          
            
              <li>
                <a href="../The-Three-Main-Limitations-of-IndexedDB.html">The three main limitations of IndexedDB</a>
              </li>
            
          
            
              <li>
                <a href="../Transaction/Transaction.html">Transaction</a>
              </li>
            
          
            
              <li>
                <a href="../Transaction/Transaction-2.html">Transaction.abort()</a>
              </li>
            
          
            
              <li>
                <a href="../Transaction/Transaction.on.html">Transaction.on.abort</a>
              </li>
            
          
            
              <li>
                <a href="../Transaction/Transaction.on-2.html">Transaction.on.complete</a>
              </li>
            
          
            
              <li>
                <a href="../Transaction/Transaction.on-3.html">Transaction.on.error</a>
              </li>
            
          
            
              <li>
                <a href="../Transaction/Transaction-3.html">Transaction.table()</a>
              </li>
            
          
            
              <li>
                <a href="../Tutorial/index.html">Tutorial</a>
              </li>
            
          
            
              <li>
                <a href="../Typescript.html">Typescript</a>
              </li>
            
          
            
              <li>
                <a href="../Tutorial/Understanding-the-basics.html">Understanding the basics</a>
              </li>
            
          
            
              <li>
                <a href="../Version/Version.html">Version</a>
              </li>
            
          
            
              <li>
                <a href="../Version/Version-2.html">Version.stores()</a>
              </li>
            
          
            
              <li>
                <a href="../Version/Version-3.html">Version.upgrade()</a>
              </li>
            
          
            
              <li>
                <a href="../WhereClause/WhereClause.html">WhereClause</a>
              </li>
            
          
            
              <li>
                <a href="../WhereClause/WhereClause-2.html">WhereClause.above()</a>
              </li>
            
          
            
              <li>
                <a href="../WhereClause/WhereClause-3.html">WhereClause.aboveOrEqual()</a>
              </li>
            
          
            
              <li>
                <a href="../WhereClause/WhereClause-4.html">WhereClause.anyOf()</a>
              </li>
            
          
            
              <li>
                <a href="../WhereClause/WhereClause-5.html">WhereClause.anyOfIgnoreCase()</a>
              </li>
            
          
            
              <li>
                <a href="../WhereClause/WhereClause-6.html">WhereClause.below()</a>
              </li>
            
          
            
              <li>
                <a href="../WhereClause/WhereClause-7.html">WhereClause.belowOrEqual()</a>
              </li>
            
          
            
              <li>
                <a href="../WhereClause/WhereClause-8.html">WhereClause.between()</a>
              </li>
            
          
            
              <li>
                <a href="../WhereClause/WhereClause-9.html">WhereClause.equals()</a>
              </li>
            
          
            
              <li>
                <a href="../WhereClause/WhereClause-10.html">WhereClause.equalsIgnoreCase()</a>
              </li>
            
          
            
              <li>
                <a href="../WhereClause/WhereClause-11.html">WhereClause.inAnyRange()</a>
              </li>
            
          
            
              <li>
                <a href="../WhereClause/WhereClause-12.html">WhereClause.noneOf()</a>
              </li>
            
          
            
              <li>
                <a href="../WhereClause/WhereClause-13.html">WhereClause.notEqual()</a>
              </li>
            
          
            
              <li>
                <a href="../WhereClause/WhereClause-14.html">WhereClause.startsWith()</a>
              </li>
            
          
            
              <li>
                <a href="../WhereClause/WhereClause-15.html">WhereClause.startsWithAnyOf()</a>
              </li>
            
          
            
              <li>
                <a href="../WhereClause/WhereClause-16.html">WhereClause.startsWithAnyOfIgnoreCase()</a>
              </li>
            
          
            
              <li>
                <a href="../WhereClause/WhereClause-17.html">WhereClause.startsWithIgnoreCase()</a>
              </li>
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/db.cloud.configure()">db.cloud.configure()</a>
              </li>
            
          
            
              <li>
                <a href="../Syncable/db.syncable.html">db.syncable.connect()</a>
              </li>
            
          
            
              <li>
                <a href="../Syncable/db.syncable-2.html">db.syncable.delete()</a>
              </li>
            
          
            
              <li>
                <a href="../Syncable/db.syncable-3.html">db.syncable.disconnect()</a>
              </li>
            
          
            
              <li>
                <a href="../Syncable/db.syncable-4.html">db.syncable.getOptions()</a>
              </li>
            
          
            
              <li>
                <a href="../Syncable/db.syncable-5.html">db.syncable.getStatus()</a>
              </li>
            
          
            
              <li>
                <a href="../Syncable/db.syncable-6.html">db.syncable.list()</a>
              </li>
            
          
            
              <li>
                <a href="../Syncable/db.syncable-7.html">db.syncable.on('statusChanged')</a>
              </li>
            
          
            
              <li>
                <a href="../Syncable/db.syncable-8.html">db.syncable.setFilter()</a>
              </li>
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/dexie-cloud-addon">dexie-cloud-addon</a>
              </li>
            
          
            
              <li>
                <a href="../libs/dexie-react-hooks.html">dexie-react-hooks</a>
              </li>
            
          
            
              <li>
                <a href="../Promise/unhandledrejection-event.html">unhandledrejection-event</a>
              </li>
            
          
            
              <li>
                <a href="../dexie-react-hooks/useLiveQuery().html">useLiveQuery()</a>
              </li>
            
          
        </ul>
      </div>
    </div>
  </div>
</div>
    </main>

    <footer class="container">
  <p>Dexie.js - A Minimalistic Wrapper for IndexedDB</p>
  <p>&copy; 2014-2020 Dexie.js is the creation of David Fahlander.</p>
</footer>


    <script src='../../assets/js/prism-2020.js'></script>
		<script src='../../assets/js/jquery.min.js'></script>
		<script src='../../assets/js/bootstrap.min.js'></script>

    <script>
  if (/disableAnalytics/i.test(location.search)) {
    var expiration_date = new Date();
    expiration_date.setYear (expiration_date.getFullYear () + 1);
    expiration_date = expiration_date.toGMTString();
    document.cookie = "ignoreGA=1; expires=" + expiration_date + "; domain=dexie.org";
  }
  if (!/ignoreGA\=1/.test(document.cookie) && !/localhost/.test(location.host)) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-7780680-5', 'auto');
    ga('send', 'pageview');
  }
</script>


    <!-- Include dexie for people wanting to open devtools to laborate -->
    <script async src='https://unpkg.com/dexie'></script>
    
    <!-- Highlight anchors the same way as github wiki works -->
    <script defer src="../../assets/js/highlight-anchors.js"></script>
    
  </body>


<!-- Mirrored from dexie.org/docs/ExportImport/dexie-export-import by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 07 Mar 2021 15:39:57 GMT -->
</html>
