<!DOCTYPE html>
<html>

  
<!-- Mirrored from dexie.org/docs/StorageManager by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 07 Mar 2021 15:39:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>How To Use the StorageManager API</title>
  <meta name="description" content="The easiest way to use IndexedDB. A lightweight, minimalistic wrapper that provides a straightforward API for developers using IndexedDB.">

  <link href='../assets/css/bootstrap.min.css' rel='stylesheet'>
  <link href='../assets/css/prism-ghcolors.css' rel='stylesheet'>
  <link href='../assets/css/stylesheet.css' rel='stylesheet'>
  <link href="../assets/css/docs.css" rel="stylesheet">
  <link href="../assets/css/font-awesome.min.css" rel="stylesheet">
  <link rel="shortcut icon" href="../assets/images/favicon-yuri.png" />
  <script src="../assets/js/offline-switch.js"></script>
</head>


  <body>
		<nav class="navbar navbar-default" style="z-index: 10;">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <!-- <a class="navbar-brand" href="/" style="background-image: url('/assets/images/dexie-logo-icon-menu-dark-bkgimg.svg'); background-repeat: no-repeat; background-position: 7px 8px;">Dexie.js</a> -->
      <a class="navbar-brand" href="https://dexie.org/"><img src="https://dexie.org/assets/images/dexie-logo-icon-menu-dark-img.svg" class="dexie-logo-icon-menu" />Dexie.js</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="https://dexie.org/cloud/"><img src="https://dexie.org/assets/images/dexie-logo-icon-menu-dark-img.svg" class="dexie-logo-icon-menu" />Dexie Cloud<span class="beta">BETA</span></a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Docs <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="index.html">Dexie.js Docs</a></li>
            <li><a href="API-Reference.html#quick-reference">Dexie.js Cheat Sheet</a></li>
            <li><a href="Samples.html">Dexie.js Samples</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="https://dexie.org/cloud/docs/">Dexie Cloud Docs</a></li>
            <li><a href="https://dexie.org/cloud/docs/cli">Dexie Cloud CLI</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Support <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="http://stackoverflow.com/questions/tagged/dexie">Dexie Questions on StackOverflow</a></li>
            <li><a href="https://github.com/dfahlander/Dexie.js/issues?utf8=%E2%9C%93&amp;q=is%3Aissue%20label%3Aquestion">Questions on GitHub</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="http://stackoverflow.com/questions/ask?tags=dexie">Ask new question on Stackoverflow (best chance for a reply)</a></li>
            <li><a href="https://github.com/dfahlander/Dexie.js/issues/new">File a GitHub issue on Dexie.js</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="https://dexie.org/contact">Contact</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Who use Dexie? <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a target="_blank" href="https://www.whatsapp.com/"><img class="icon" src="../assets/images/whatsapp.png"> WhatsApp</a></li>
            <li><a target="_blank" href="https://todo.microsoft.com/"><img class="icon" src="https://dexie.org/assets/images/microsoft-todo.ico"> Microsoft To Do</a></li>
            <li><a target="_blank" href="https://desktop.github.com/"><img class="icon" src="https://dexie.org/assets/images/github-desktop-icon.svg" > Github Desktop</a></li>
            <li><a target="_blank" href="https://www.flightradar24.com/"><img class="icon" src="https://dexie.org/assets/images/flightradar24.svg"> Flightradar24 - real-time flight info</a></li>
            <li><a target="_blank" href="https://wire.com/"><img class="icon" src="https://dexie.org/assets/images/wire-icon.ico"> Wire - An end-to-end encrypted chat application</a></li>
            <li><a target="_blank" href="https://getmemex.com/"><img class="icon" src="../assets/images/memex-icon.png"> Memex - Bookmarking for power users</a></li>
            <li><a target="_blank" href="../../github.com/dfahlander/Dexie.js/network/dependents9a48.html?package_id=UGFja2FnZS0xMzg0ODIyOQ%3D%3D">... more than 5000 repos on GitHub</a></li>
            <li role="separator" class="divider"></li>
            <li><a target="_blank" href="../../trends.builtwith.com/javascript/Dexie.html"><img class="icon" src="https://dexie.org/assets/images/builtwith-icon.ico"> Builtwith.com's usage stats for Dexie.js</a></li>
            <li><a target="_blank" href="https://w3techs.com/technologies/overview/javascript_library"><img class="icon" src="https://dexie.org/assets/images/w3techs-icon.ico"> Dexie.js is among the <span style="font-weight: bold">Top-30</span> JS libraries according to w3techs.com</a></li>
          </ul>
        </li>
        <li><a href="https://dexie.org/contact">Contact </a></li>
        
        <li><a href="../../github.com/dfahlander/Dexie.js/releases.html">Releases </a></li>
        <li><a href="https://medium.com/dexie-js">Blog </a></li>
      </ul>
    </div><!-- /.navbar-collapse -->

    <div id="offline-switch" title="Make Dexie documentation available offline">
      <span id="offlineOffHeading">Make available offline</span>
      <span id="offlineOnHeading">Available offline</span>
      <label class="switch">
        <input
          id="offline-checkbox"
          type="checkbox"
          onchange="setOffline(event.target.checked)"
        />
        <span class="slider round"></span>
      </label>
      <script>
        updateSwitchFromStorage();
      </script>
    </div>
    
  </div><!-- /.container-fluid -->
</nav>		
<script>
    document.querySelectorAll('nav.navbar ul>li>a').forEach(function (a) {
      var href = a.getAttribute('href');
      href = href && href.split('#')[0];
      if (href && location.pathname === href) {
        //console.log("Selected: ", a.href);
        a.closest('li').className += ' active';
      }
    });
</script>

    <header class="site-header">
  <div class="jumbotron docs-page-jumbotron">
    <div class="container">
      <!-- <div style="position:relative; margin:0;padding:0; width: 100%;">
        <a href="/cloud/" style="position: absolute; top: 0; right: 200px;">
          <h1>Need Sync?</h1>
        </a>
      </div> -->
      <a href="https://dexie.org/">
        <img src="https://dexie.org/assets/images/dexie-logo-icon.svg" class="dexie-logo-icon" />
        <h1>Dexie.js Docs</h1>
      </a>
      <a href="https://dexie.org/cloud/" id="cloud-promoter">
        <div class="shoutouts">
          <p>Need sync?</p>
          <p>Create collaborative offline-first apps</p>
          <p>Easy to get started</p>
        </div>
        <p>Coming soon: Dexie Cloud<span class="beta">BETA</span><span style="display: inline-block; margin-left: -1em;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&raquo;</span></p>
  </a>  
    <!-- Github star button -->
<div id="star-button">
  <!-- Place this tag where you want the button to render. -->
  <a class="github-button" href="../../github.com/dfahlander/Dexie.html" data-size="large" data-show-count="true" aria-label="Star dfahlander/Dexie.js on GitHub">Star</a>
</div>
<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="../../buttons.github.io/buttons.js"></script>
      
    </div>
</div>
</header>
<script src="../assets/js/anime.min.js"></script>
<script src="../assets/js/shoutouts.js"></script>


    <main class="container">
      <div class="row">
  <div class="col-xs-12 col-md-8">
    <div class="row docs-page-subheader">
      <h1 class="col-xs-12 col-md-9">How To Use the StorageManager API</h1>
      <div class="hidden-xs col-md-3">
        <a class="btn btn-primary btn-edit-doc-page" href="https://github.com/dfahlander/dexie.js-web/edit/gh-pages/docs/StorageManager.md">
          <span class="glyphicon glyphicon-edit"></span>&nbsp; Edit on GitHub
        </a>
      </div>
    </div>

    <div class="row docs-page-subtitle">
      <div class="col-xs-12">
        
      </div>
    </div>
    <div class="row docs-page">
      <div class="col-xs-12">
        <p><img src="../assets/images/disc.jpg" style="float:right;margin:24px;" /></p>

<p>Even though IndexedDB is a fully functional client-side database for the web, it is not a persistent storage by default. IndexedDB without <a href="https://developer.mozilla.org/en-US/docs/Web/API/StorageManager">StorageManager</a> is just a “best-effort” database that can be erased in situations of low disk space on a device. The browser may delete your database without notifying the user in case it needs to free up space for other website’s data that was used more recently than yours.</p>

<p>Actually, this is a good thing for most cases as the end-users may not want everything to be stored forever on each site they visit. But if IndexedDB is critical for your application to work, this browser-behavior might scare you a bit.</p>

<p>If you are syncing your data with a server, this “best-effort” behavior might actually be ok to live with, as a resync would restore your data. But if you are not syncing, or require offline functionality after long periods of the app being not used (for example an offline music player), you should consider using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/StorageManager">StorageManager API</a> to make sure your data is persisted.</p>

<h2 id="controlling-persistence">Controlling Persistence</h2>

<p>If you need to prohibit the user from accidentally getting the data deleted, you should try putting the following code in your app’s bootstrap somewhere:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">persist</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">await</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span> <span class="o">&amp;&amp;</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">persist</span> <span class="o">&amp;&amp;</span>
    <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">persist</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div></div>

<p>This does not guarantee you be allowed to make the database “persistent” (in contrary of default “best-effort”). The browser may pop up a dialog to the user, asking for the permission to persist the storage and the user may say no. On many browsers without the StorageManager API the function will not do anything, as it initially checks for the existence of the StorageManager API and its persist method.</p>

<p>To check whether your IndexedDB database is successfully persisted, inspect the promise returned by <code class="language-plaintext highlighter-rouge">persist()</code>, or use the following function to query it without trying to persist:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">isStoragePersisted</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">await</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span> <span class="o">&amp;&amp;</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">persisted</span> <span class="o">&amp;&amp;</span>
    <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">persisted</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div></div>

<p>Example of use:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nx">isStoragePersisted</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="k">async</span> <span class="nx">isPersisted</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">isPersisted</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">:) Storage is successfully persisted.</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">:( Storage is not persisted.</span><span class="dl">"</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Trying to persist..:</span><span class="dl">"</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">await</span> <span class="nx">persist</span><span class="p">())</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">:) We successfully turned the storage to be persisted.</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">:( Failed to make storage persisted</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<h2 id="what-is-storage-and-how-does-it-apply-to-dexie">What is “storage” and how does it apply to Dexie?</h2>

<p>Dexie is just a wrapper for IndexedDB and enables the creation of (and access to) client databases in your browser. StorageManager is a way to configure how IndexedDB will store its data for any database on your website or app.</p>

<h2 id="prohibit-unwanted-dialogs">Prohibit Unwanted Dialogs?</h2>

<p>Using <code class="language-plaintext highlighter-rouge">navigator.storage.persist()</code> may prompt the end user for permission. Personally, I would not like a webapp to ask for a permission as the first thing it does. I would rather provide my own GUI to advertise that based on my app’s criteria. For example, when the user seems to get more involved with the application, I could advertise and explain that the app might need to ensure that the data will not be accidentially cleared without user’s notice. Or it could be turned on in a <em>Settings</em> menu for your app.</p>

<p>Chrome and Firefox also implement this differently. In Chrome, the “persistent” or “best-effort” mode is not decided by the end user but is based on how the user has interacted with the application, so it might actually be the case that your application is already allowed to be “persistent” without prompting the user for that permission. And the opposite - <code class="language-plaintext highlighter-rouge">persist()</code> may return false without ever prompting the user…</p>

<p>Luckily, the <a href="https://storage.spec.whatwg.org/">Storage</a> standard has taken into consideration the case when apps do not want to show dialogs initially as it is possible to convert existing storages to become persistent. There is also a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/permissions">permissions</a> API that lets you ask whether a certain permission needs to be prompted for or not. Users may have configured the browser to allow this already, or your app is run in installed mode and gets the permissions implicitly. See <a href="#summary">Summary</a> for a sample on how to control user dialogs.</p>

<h2 id="how-much-data-can-be-stored">How Much Data Can Be Stored?</h2>

<p>If you successfully made your storage persistent, the quota it is allowed to use may vary depending on device. You might want to show your user how much storage is available, or you might want to take actions when storage reaches a certain percent of available storage. This can be accomplished using <a href="https://developer.mozilla.org/en-US/docs/Web/API/StorageManager/estimate">StorageManager.estimate()</a> as shown in the sample below:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">showEstimatedQuota</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span> <span class="o">&amp;&amp;</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">estimate</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">estimation</span> <span class="o">=</span> <span class="k">await</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">estimate</span><span class="p">();</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Quota: </span><span class="p">${</span><span class="nx">estimation</span><span class="p">.</span><span class="nx">quota</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Usage: </span><span class="p">${</span><span class="nx">estimation</span><span class="p">.</span><span class="nx">usage</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">"</span><span class="s2">StorageManager not found</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<h2 id="eviction-limits">Eviction Limits</h2>
<p>These limits are specific to each browser and its underlying data storage implementation. When the limit is reached, either non peristent data will get evicted, depending on persistence, or new data will fail to be written to the storage.</p>

<p>When the browser tries to perform an operation that would cause the application to exceed its storage quota, it will throw a <code class="language-plaintext highlighter-rouge">DOMException</code> with a <code class="language-plaintext highlighter-rouge">QuotaExceededError</code> or similiar depending on the browser.</p>

<p>More information regarding browser storage limits and eviction criterias can be found on the <a href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API/Browser_storage_limits_and_eviction_criteria">Mozilla Developer Portal</a></p>

<h2 id="caveats">Caveats</h2>

<p>Some things to consider:</p>

<ul>
  <li>Your app must be served over HTTPS, as the StorageManager() is only available in a secure context.</li>
  <li>StorageManager API is still considered an experimental technology but is already available on Chrome, Firefox and Opera (as of October 30, 2017).</li>
</ul>

<h2 id="workers">Workers</h2>

<p>Web Workers and Service Workers access the storage API the same way as web pages do - through <code class="language-plaintext highlighter-rouge">navigator.storage</code>.</p>

<h2 id="summary">Summary</h2>

<p>If you are storing critical data with Dexie (or in IndexedDB generally), you might consider using <a href="https://developer.mozilla.org/en-US/docs/Web/API/StorageManager">StorageManager</a> to ensure the data can be persistently stored, and not just “best-effort”. For user experience, some apps may want to wait with enabling the persistent mode until the user seems to be repeatingly using the application, or maybe using certain parts of the application where persisted storage is critical.</p>

<p>In summary, here are some handy functions to use:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="cm">/** Check if storage is persisted already.
  @returns {Promise&lt;boolean&gt;} Promise resolved with true if current origin is
  using persistent storage, false if not, and undefined if the API is not
  present.
*/</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">isStoragePersisted</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">await</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span> <span class="o">&amp;&amp;</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">persisted</span> <span class="p">?</span>
    <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">persisted</span><span class="p">()</span> <span class="p">:</span>
    <span class="kc">undefined</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/** Tries to convert to persisted storage.
  @returns {Promise&lt;boolean&gt;} Promise resolved with true if successfully
  persisted the storage, false if not, and undefined if the API is not present.
*/</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">persist</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">await</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span> <span class="o">&amp;&amp;</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">persist</span> <span class="p">?</span>
    <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">persist</span><span class="p">()</span> <span class="p">:</span>
    <span class="kc">undefined</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/** Queries available disk quota.
  @see https://developer.mozilla.org/en-US/docs/Web/API/StorageEstimate
  @returns {Promise&lt;{quota: number, usage: number}&gt;} Promise resolved with
  {quota: number, usage: number} or undefined.
*/</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">showEstimatedQuota</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">await</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span> <span class="o">&amp;&amp;</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">estimate</span> <span class="p">?</span>
    <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">estimate</span><span class="p">()</span> <span class="p">:</span>
    <span class="kc">undefined</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/** Tries to persist storage without ever prompting user.
  @returns {Promise&lt;string&gt;}
    "never" In case persisting is not ever possible. Caller don't bother
      asking user for permission.
    "prompt" In case persisting would be possible if prompting user first.
    "persisted" In case this call successfully silently persisted the storage,
      or if it was already persisted.
*/</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">tryPersistWithoutPromtingUser</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span> <span class="o">||</span> <span class="o">!</span><span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">persisted</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="dl">"</span><span class="s2">never</span><span class="dl">"</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kd">let</span> <span class="nx">persisted</span> <span class="o">=</span> <span class="k">await</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">persisted</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">persisted</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="dl">"</span><span class="s2">persisted</span><span class="dl">"</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">navigator</span><span class="p">.</span><span class="nx">permissions</span> <span class="o">||</span> <span class="o">!</span><span class="nb">navigator</span><span class="p">.</span><span class="nx">permissions</span><span class="p">.</span><span class="nx">query</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="dl">"</span><span class="s2">prompt</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// It MAY be successful to prompt. Don't know.</span>
  <span class="p">}</span>
  <span class="kd">const</span> <span class="nx">permission</span> <span class="o">=</span> <span class="k">await</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">permissions</span><span class="p">.</span><span class="nx">query</span><span class="p">({</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">persistent-storage</span><span class="dl">"</span>
  <span class="p">});</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">permission</span><span class="p">.</span><span class="nx">state</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">granted</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">persisted</span> <span class="o">=</span> <span class="k">await</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">persist</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">persisted</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="dl">"</span><span class="s2">persisted</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">"</span><span class="s2">Failed to persist</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">permission</span><span class="p">.</span><span class="nx">state</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">prompt</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="dl">"</span><span class="s2">prompt</span><span class="dl">"</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="dl">"</span><span class="s2">never</span><span class="dl">"</span><span class="p">;</span>
<span class="p">}</span>


</code></pre></div></div>

<p>And to use it from your app:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">initStoragePersistence</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">persist</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">tryPersistWithoutPromtingUser</span><span class="p">();</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">persist</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">"</span><span class="s2">never</span><span class="dl">"</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Not possible to persist storage</span><span class="dl">"</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">"</span><span class="s2">persisted</span><span class="dl">"</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Successfully persisted storage silently</span><span class="dl">"</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">"</span><span class="s2">prompt</span><span class="dl">"</span><span class="p">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Not persisted, but we may prompt user when we want to.</span><span class="dl">"</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p>If the result was “prompt” you could show your own view where you explain the reason for persistence along with a button to enable it.
When user presses the button, you call <code class="language-plaintext highlighter-rouge">navigator.storage.persist()</code>.</p>

<h3 id="references">References</h3>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/StorageManager">StorageManager on MDN</a></p>

<p><a href="https://developers.google.com/web/updates/2016/06/persistent-storage">Persistent Storage on developers.google.com</a></p>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API/Browser_storage_limits_and_eviction_criteria">Limits and eviction criteria on MDN</a></p>

<p><a href="https://storage.spec.whatwg.org/">Storage Standard</a></p>

      </div>
    </div>
  </div>
  <div class="col-xs-12 col-md-4">
    <div class="row docs-page-subheader">
      <h3>Table of Contents</h3>
      <div class="docs-toc-wrapper">
        <ul class="docs-toc">
          
          
            
          
            
          
            
          
            
              <li>
                <a href="API-Reference.html">API Reference</a>
              </li>
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/access-control">Access Control in Dexie Cloud</a>
              </li>
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/authentication">Authentication in Dexie Cloud</a>
              </li>
            
          
            
              <li>
                <a href="Tutorial/Best-Practices.html">Best Practices</a>
              </li>
            
          
            
              <li>
                <a href="Tutorial/Building-Addons.html">Building Addons</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection.html">Collection</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-2.html">Collection.and()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-3.html">Collection.clone()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-4.html">Collection.count()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-5.html">Collection.delete()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-6.html">Collection.desc()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-7.html">Collection.distinct()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-8.html">Collection.each()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-9.html">Collection.eachKey()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-10.html">Collection.eachPrimaryKey()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-11.html">Collection.eachUniqueKey()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-12.html">Collection.filter()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-13.html">Collection.first()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-14.html">Collection.keys()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-15.html">Collection.last()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-16.html">Collection.limit()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-17.html">Collection.modify()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-18.html">Collection.offset()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-19.html">Collection.or()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-20.html">Collection.primaryKeys()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-21.html">Collection.raw()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-22.html">Collection.reverse()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-23.html">Collection.sortBy()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-24.html">Collection.toArray()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-25.html">Collection.uniqueKeys()</a>
              </li>
            
          
            
              <li>
                <a href="Collection/Collection-26.html">Collection.until()</a>
              </li>
            
          
            
              <li>
                <a href="Compound-Index.html">Compound Index</a>
              </li>
            
          
            
              <li>
                <a href="Tutorial/Consuming-dexie-as-a-module.html">Consuming Dexie as a module</a>
              </li>
            
          
            
          
            
              <li>
                <a href="DBCore/DBCore.html">DBCore</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreAddRequest.html">DBCoreAddRequest</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreCountRequest.html">DBCoreCountRequest</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreCursor.html">DBCoreCursor</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreDeleteRangeRequest.html">DBCoreDeleteRangeRequest</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreDeleteRequest.html">DBCoreDeleteRequest</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreGetManyRequest.html">DBCoreGetManyRequest</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreGetRequest.html">DBCoreGetRequest</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreIndex.html">DBCoreIndex</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreKeyRange.html">DBCoreKeyRange</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreMutateRequest.html">DBCoreMutateRequest</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreMutateResponse.html">DBCoreMutateResponse</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreOpenCursorRequest.html">DBCoreOpenCursorRequest</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCorePutRequest.html">DBCorePutRequest</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreQuery.html">DBCoreQuery</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreQueryRequest.html">DBCoreQueryRequest</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreQueryResponse.html">DBCoreQueryResponse</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreRangeType.html">DBCoreRangeType</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreSchema.html">DBCoreSchema</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreTable.html">DBCoreTable</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreTableSchema.html">DBCoreTableSchema</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreTransaction.html">DBCoreTransaction</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreTransactionMode.html">DBCoreTransactionMode</a>
              </li>
            
          
            
              <li>
                <a href="DBCore/DBCoreTransactionRequest.html">DBCoreTransactionRequest</a>
              </li>
            
          
            
              <li>
                <a href="Deprecations.html">Deprecations</a>
              </li>
            
          
            
              <li>
                <a href="DerivedWork.html">Derived Work</a>
              </li>
            
          
            
              <li>
                <a href="Tutorial/Design.html">Design</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie.html">Dexie</a>
              </li>
            
          
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/cli">Dexie Cloud CLI</a>
              </li>
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/">Dexie Cloud Docs</a>
              </li>
            
          
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/rest-api">Dexie Cloud REST API</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie.html">Dexie.AbortError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-2.html">Dexie.BulkError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-3.html">Dexie.ConstraintError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-4.html">Dexie.DataCloneError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-5.html">Dexie.DataError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-6.html">Dexie.DatabaseClosedError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-7.html">Dexie.IncompatiblePromiseError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-8.html">Dexie.InternalError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-9.html">Dexie.InvalidAccessError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-10.html">Dexie.InvalidArgumentError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-11.html">Dexie.InvalidStateError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-12.html">Dexie.InvalidTableError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-13.html">Dexie.MissingAPIError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-14.html">Dexie.ModifyError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-15.html">Dexie.NoSuchDatabaseErrorError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-16.html">Dexie.NotFoundError</a>
              </li>
            
          
            
              <li>
                <a href="Observable/Dexie.html">Dexie.Observable</a>
              </li>
            
          
            
              <li>
                <a href="Observable/Dexie.Observable.html">Dexie.Observable.DatabaseChange</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-17.html">Dexie.OpenFailedError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-18.html">Dexie.PrematureCommitError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-19.html">Dexie.QuotaExceededError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-20.html">Dexie.ReadOnlyError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-21.html">Dexie.SchemaError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-22.html">Dexie.SubTransactionError</a>
              </li>
            
          
            
              <li>
                <a href="Syncable/Dexie.Syncable.html">Dexie.Syncable</a>
              </li>
            
          
            
              <li>
                <a href="Syncable/Dexie.Syncable-2.html">Dexie.Syncable.IDatabaseChange</a>
              </li>
            
          
            
              <li>
                <a href="Syncable/Dexie.Syncable-3.html">Dexie.Syncable.IPersistentContext</a>
              </li>
            
          
            
              <li>
                <a href="Syncable/Dexie.Syncable-4.html">Dexie.Syncable.ISyncProtocol</a>
              </li>
            
          
            
              <li>
                <a href="Syncable/Dexie.Syncable-5.html">Dexie.Syncable.StatusTexts</a>
              </li>
            
          
            
              <li>
                <a href="Syncable/Dexie.Syncable-6.html">Dexie.Syncable.Statuses</a>
              </li>
            
          
            
              <li>
                <a href="Syncable/Dexie.Syncable-7.html">Dexie.Syncable.registerSyncProtocol()</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-23.html">Dexie.TimeoutError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-24.html">Dexie.TransactionInactiveError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-25.html">Dexie.UnknownError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-26.html">Dexie.UnsupportedError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-27.html">Dexie.UpgradeError()</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-28.html">Dexie.VersionChangeError</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/Dexie-29.html">Dexie.VersionError</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-2.html">Dexie.[table]</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-3.html">Dexie.addons</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-4.html">Dexie.async()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-5.html">Dexie.backendDB()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-6.html">Dexie.close()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-7.html">Dexie.currentTransaction</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-8.html">Dexie.debug</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-9.html">Dexie.deepClone()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-10.html">Dexie.defineClass()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-11.html">Dexie.delByKeyPath()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-12.html">Dexie.delete()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-13.html">Dexie.derive()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-14.html">Dexie.events()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-15.html">Dexie.exists()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-16.html">Dexie.extend()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-17.html">Dexie.fakeAutoComplete()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-18.html">Dexie.getByKeyPath()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-19.html">Dexie.getDatabaseNames()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-20.html">Dexie.hasFailed()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-21.html">Dexie.ignoreTransaction()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-22.html">Dexie.isOpen()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie.html">Dexie.js</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-23.html">Dexie.name</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-24.html">Dexie.on()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie.on.html">Dexie.on.blocked</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie.on-2.html">Dexie.on.error</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie.on-3.html">Dexie.on.populate</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie.on-4.html">Dexie.on.populate-(old-version)</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie.on-5.html">Dexie.on.ready</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie.on-6.html">Dexie.on.versionchange</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-25.html">Dexie.open()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-26.html">Dexie.override()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-27.html">Dexie.semVer</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-28.html">Dexie.setByKeyPath()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-29.html">Dexie.shallowClone()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-30.html">Dexie.spawn()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-31.html">Dexie.table()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-32.html">Dexie.tables</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-33.html">Dexie.transaction()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-34.html">Dexie.transaction()-(old-version)</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-35.html">Dexie.use()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-36.html">Dexie.verno</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-37.html">Dexie.version</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-38.html">Dexie.version()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-39.html">Dexie.vip()</a>
              </li>
            
          
            
              <li>
                <a href="Dexie/Dexie-40.html">Dexie.waitFor()</a>
              </li>
            
          
            
              <li>
                <a href="DexieErrors/DexieError.html">DexieError</a>
              </li>
            
          
            
              <li>
                <a href="index.html">Docs Home</a>
              </li>
            
          
            
              <li>
                <a href="Download.html">Download</a>
              </li>
            
          
            
              <li>
                <a href="ExportImport/dexie-export-import.html">Export and Import Database</a>
              </li>
            
          
            
              <li>
                <a href="Tutorial/Getting-started.html">Getting Started</a>
              </li>
            
          
            
              <li>
                <a href="Tutorial/Hello-World.html">Hello World</a>
              </li>
            
          
            
              <li>
                <a href="StorageManager.html">How To Use the StorageManager API</a>
              </li>
            
          
            
              <li>
                <a href="inbound.html">Inbound</a>
              </li>
            
          
            
              <li>
                <a href="IndexSpec.html">IndexSpec</a>
              </li>
            
          
            
              <li>
                <a href="Indexable-Type.html">Indexable Type</a>
              </li>
            
          
            
              <li>
                <a href="IndexedDB-on-Safari.html">IndexedDB on Safari</a>
              </li>
            
          
            
              <li>
                <a href="Tutorial/Migrating-existing-DB-to-Dexie.html">Migrating existing DB to Dexie</a>
              </li>
            
          
            
              <li>
                <a href="MultiEntry-Index.html">MultiEntry Index</a>
              </li>
            
          
            
              <li>
                <a href="Promise/Promise.html">Promise</a>
              </li>
            
          
            
              <li>
                <a href="Promise/Promise-2.html">Promise.PSD</a>
              </li>
            
          
            
              <li>
                <a href="Promise/Promise-3.html">Promise.catch()</a>
              </li>
            
          
            
              <li>
                <a href="Promise/Promise-4.html">Promise.finally()</a>
              </li>
            
          
            
              <li>
                <a href="Promise/Promise.on.html">Promise.on.error</a>
              </li>
            
          
            
              <li>
                <a href="Promise/Promise-5.html">Promise.onuncatched</a>
              </li>
            
          
            
              <li>
                <a href="https://dexie.org/cloud/purchase/production">Purchase Subscription</a>
              </li>
            
          
            
              <li>
                <a href="Questions-and-Answers.html">Questions and Answers</a>
              </li>
            
          
            
              <li>
                <a href="Releasing-Dexie.html">Releasing Dexie</a>
              </li>
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/premium-software">Run Dexie Cloud on Own Servers</a>
              </li>
            
          
            
          
            
              <li>
                <a href="Samples.html">Samples</a>
              </li>
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/scaling">Sharding and Scalability</a>
              </li>
            
          
            
              <li>
                <a href="Simplify-with-yield.html">Simplify with yield</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table.html">Table</a>
              </li>
            
          
            
              <li>
                <a href="TableSchema.html">Table Schema</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-2.html">Table.add()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-3.html">Table.bulkAdd()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-4.html">Table.bulkDelete()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-5.html">Table.bulkGet()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-6.html">Table.bulkPut()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-7.html">Table.clear()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-8.html">Table.count()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-9.html">Table.defineClass()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-10.html">Table.delete()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-11.html">Table.each()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-12.html">Table.filter()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-13.html">Table.get()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-14.html">Table.hook('creating')</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-15.html">Table.hook('deleting')</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-16.html">Table.hook('reading')</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-17.html">Table.hook('updating')</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-18.html">Table.limit()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-19.html">Table.mapToClass()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-20.html">Table.name</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-21.html">Table.offset()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-22.html">Table.orderBy()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-23.html">Table.put()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-24.html">Table.reverse()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-25.html">Table.schema</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-26.html">Table.toArray()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-27.html">Table.toCollection()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-28.html">Table.update()</a>
              </li>
            
          
            
              <li>
                <a href="Table/Table-29.html">Table.where()</a>
              </li>
            
          
            
              <li>
                <a href="The-Three-Main-Limitations-of-IndexedDB.html">The three main limitations of IndexedDB</a>
              </li>
            
          
            
              <li>
                <a href="Transaction/Transaction.html">Transaction</a>
              </li>
            
          
            
              <li>
                <a href="Transaction/Transaction-2.html">Transaction.abort()</a>
              </li>
            
          
            
              <li>
                <a href="Transaction/Transaction.on.html">Transaction.on.abort</a>
              </li>
            
          
            
              <li>
                <a href="Transaction/Transaction.on-2.html">Transaction.on.complete</a>
              </li>
            
          
            
              <li>
                <a href="Transaction/Transaction.on-3.html">Transaction.on.error</a>
              </li>
            
          
            
              <li>
                <a href="Transaction/Transaction-3.html">Transaction.table()</a>
              </li>
            
          
            
              <li>
                <a href="Tutorial/index.html">Tutorial</a>
              </li>
            
          
            
              <li>
                <a href="Typescript.html">Typescript</a>
              </li>
            
          
            
              <li>
                <a href="Tutorial/Understanding-the-basics.html">Understanding the basics</a>
              </li>
            
          
            
              <li>
                <a href="Version/Version.html">Version</a>
              </li>
            
          
            
              <li>
                <a href="Version/Version-2.html">Version.stores()</a>
              </li>
            
          
            
              <li>
                <a href="Version/Version-3.html">Version.upgrade()</a>
              </li>
            
          
            
              <li>
                <a href="WhereClause/WhereClause.html">WhereClause</a>
              </li>
            
          
            
              <li>
                <a href="WhereClause/WhereClause-2.html">WhereClause.above()</a>
              </li>
            
          
            
              <li>
                <a href="WhereClause/WhereClause-3.html">WhereClause.aboveOrEqual()</a>
              </li>
            
          
            
              <li>
                <a href="WhereClause/WhereClause-4.html">WhereClause.anyOf()</a>
              </li>
            
          
            
              <li>
                <a href="WhereClause/WhereClause-5.html">WhereClause.anyOfIgnoreCase()</a>
              </li>
            
          
            
              <li>
                <a href="WhereClause/WhereClause-6.html">WhereClause.below()</a>
              </li>
            
          
            
              <li>
                <a href="WhereClause/WhereClause-7.html">WhereClause.belowOrEqual()</a>
              </li>
            
          
            
              <li>
                <a href="WhereClause/WhereClause-8.html">WhereClause.between()</a>
              </li>
            
          
            
              <li>
                <a href="WhereClause/WhereClause-9.html">WhereClause.equals()</a>
              </li>
            
          
            
              <li>
                <a href="WhereClause/WhereClause-10.html">WhereClause.equalsIgnoreCase()</a>
              </li>
            
          
            
              <li>
                <a href="WhereClause/WhereClause-11.html">WhereClause.inAnyRange()</a>
              </li>
            
          
            
              <li>
                <a href="WhereClause/WhereClause-12.html">WhereClause.noneOf()</a>
              </li>
            
          
            
              <li>
                <a href="WhereClause/WhereClause-13.html">WhereClause.notEqual()</a>
              </li>
            
          
            
              <li>
                <a href="WhereClause/WhereClause-14.html">WhereClause.startsWith()</a>
              </li>
            
          
            
              <li>
                <a href="WhereClause/WhereClause-15.html">WhereClause.startsWithAnyOf()</a>
              </li>
            
          
            
              <li>
                <a href="WhereClause/WhereClause-16.html">WhereClause.startsWithAnyOfIgnoreCase()</a>
              </li>
            
          
            
              <li>
                <a href="WhereClause/WhereClause-17.html">WhereClause.startsWithIgnoreCase()</a>
              </li>
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/db.cloud.configure()">db.cloud.configure()</a>
              </li>
            
          
            
              <li>
                <a href="Syncable/db.syncable.html">db.syncable.connect()</a>
              </li>
            
          
            
              <li>
                <a href="Syncable/db.syncable-2.html">db.syncable.delete()</a>
              </li>
            
          
            
              <li>
                <a href="Syncable/db.syncable-3.html">db.syncable.disconnect()</a>
              </li>
            
          
            
              <li>
                <a href="Syncable/db.syncable-4.html">db.syncable.getOptions()</a>
              </li>
            
          
            
              <li>
                <a href="Syncable/db.syncable-5.html">db.syncable.getStatus()</a>
              </li>
            
          
            
              <li>
                <a href="Syncable/db.syncable-6.html">db.syncable.list()</a>
              </li>
            
          
            
              <li>
                <a href="Syncable/db.syncable-7.html">db.syncable.on('statusChanged')</a>
              </li>
            
          
            
              <li>
                <a href="Syncable/db.syncable-8.html">db.syncable.setFilter()</a>
              </li>
            
          
            
              <li>
                <a href="https://dexie.org/cloud/docs/dexie-cloud-addon">dexie-cloud-addon</a>
              </li>
            
          
            
              <li>
                <a href="libs/dexie-react-hooks.html">dexie-react-hooks</a>
              </li>
            
          
            
              <li>
                <a href="Promise/unhandledrejection-event.html">unhandledrejection-event</a>
              </li>
            
          
            
              <li>
                <a href="dexie-react-hooks/useLiveQuery().html">useLiveQuery()</a>
              </li>
            
          
        </ul>
      </div>
    </div>
  </div>
</div>
    </main>

    <footer class="container">
  <p>Dexie.js - A Minimalistic Wrapper for IndexedDB</p>
  <p>&copy; 2014-2020 Dexie.js is the creation of David Fahlander.</p>
</footer>


    <script src='../assets/js/prism-2020.js'></script>
		<script src='../assets/js/jquery.min.js'></script>
		<script src='../assets/js/bootstrap.min.js'></script>

    <script>
  if (/disableAnalytics/i.test(location.search)) {
    var expiration_date = new Date();
    expiration_date.setYear (expiration_date.getFullYear () + 1);
    expiration_date = expiration_date.toGMTString();
    document.cookie = "ignoreGA=1; expires=" + expiration_date + "; domain=dexie.org";
  }
  if (!/ignoreGA\=1/.test(document.cookie) && !/localhost/.test(location.host)) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','../../www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-7780680-5', 'auto');
    ga('send', 'pageview');
  }
</script>


    <!-- Include dexie for people wanting to open devtools to laborate -->
    <script async src='https://unpkg.com/dexie'></script>
    
    <!-- Highlight anchors the same way as github wiki works -->
    <script defer src="../assets/js/highlight-anchors.js"></script>
    
  </body>


<!-- Mirrored from dexie.org/docs/StorageManager by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 07 Mar 2021 15:39:57 GMT -->
</html>
